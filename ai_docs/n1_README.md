## n1 пакет для работы с HR системой N1

Пакет n1 является обёрткой для работы с базой данных нашей внутренней HR системой N1, его функции являются обёртками над SQL запросами в которые прокидываются аргументы функций.

### Создание конфига

Перед началос работы с пакетом вам необходимо создвть конфиг, вы можете создавать несколько конфигов, название дефолтного `default.yaml`. Для создания конфига используйте функцию `n1_create_config()`:

```r
library(n1)

n1_create_config('username', 'password')
```

### Подключение к базе
Если вам необходимо несколько конфигов, то при создание других конфигов указывайте их название с помозью аргумента `conf_name`.
Конфиг создаётся один раз, и далее может быть использован в различных сеансах. 

Для подключения к базе используйте функцию `n1_connect()`, для разрыва соединения `n1_disconnect()`.

### Запрос данных
Пример запроса данных с использованием созданного ранее конфига:

```r
library(n1)

n1_connect()
employees <- n1_get_employees()
n1_disconnect()
```

### Список функций

* Работа с конфигами:
    * `n1_create_config()` - создание / редактирование конфига
    * `n1_config_ls()` - просмотр списка созданных конфигов
    * `n1_read_config()` - чтение конфига
    * `n1_current_config()` - получить сведения о текущем, загруженном в окружение конфиге
* Подключение к БД:
    * `n1_connect()` - Подключение к базе
    * `n1_disconnect()` - Разрыв подключения
* Запрос данных:
    * `n1_get_query()` - получить результат кастомного SQL к БД N1 
    * `n1_get_employees()` - Запрос данных о сотрудниках
    * `n1_get_vacations_requests()` - Получить запросы отпускных / больничных / отгулов
* Обновление пакета:
    * `n1::n1_update()` - Обновить пакет из корпоративного GitLab
    
### Поддержка
По всем вопросам работы пакета обращаться к [Alsey](https://t.me/AlexeySeleznev)
